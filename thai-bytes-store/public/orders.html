<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <title>Order History - THAI BYTES</title>
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <script src="https://cdn.tailwindcss.com"></script>
Â  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
Â  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
Â  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
Â  <script src="js/firebase-config.js"></script>
</head>
<body class="bg-gray-100 text-black">
Â  <header class="bg-blue-600 p-4 text-white text-2xl font-bold text-center">ðŸ§¾ Order History</header>
Â  <main class="p-6">
Â  Â  <div id="orderList" class="space-y-4"></div>
Â  </main>

Â  <script>
firebase.auth().onAuthStateChanged((user) => {
Â  if (!user) {
Â  Â  alert("Please login to view orders");
Â  Â  window.location.href = "login.html";
Â  Â  return;
Â  }

Â  firebase.firestore().collection("orders")
Â  Â  .where("uid", "==", user.uid)
Â  Â  .orderBy("orderTime", "desc")
Â  Â  .get()
Â  Â  .then((snapshot) => {
Â  Â  Â  const list = document.getElementById("orderList");
Â  Â  Â  snapshot.forEach((doc) => {
Â  Â  Â  Â  const data = doc.data();
Â  Â  Â  Â  list.innerHTML += `
Â  Â  Â  Â  Â  <div class="bg-white p-4 rounded shadow">
Â  Â  Â  Â  Â  Â  <h2 class="text-xl font-bold">${data.product}</h2>
Â  Â  Â  Â  Â  Â  <p>â‚¹${data.price} x ${data.quantity}</p>
Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-600">${new Date(data.orderTime?.seconds * 1000).toLocaleString()}</p>
Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  });
Â  Â  });
});
Â  </script>
</body>
</html>
